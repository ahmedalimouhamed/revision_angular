<div class="modal-overlay" (click)="onClose()">
    <div class="modal-content" (click)="$event.stopPropagation()">
        <h2>{{userForm.value.name ? 'Modifier' : 'Ajouter'}} utilisateur</h2>

        <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
            <input formControlName="name" placeholder="Nom complet">
            <input formControlName="email" placeholder="Email">
            <select formControlName="role">
                @for(role of roles; track role){
                    <option [value]="role">{{role}}</option>
                }
            </select>
            <select formControlName="department">
                @for(department of departments; track department){
                    <option [value]="department">{{department}}</option>
                }
            </select>
            <select formControlName="status">
                @for(status of statuses; track status){
                    <option [value]="status">{{status}}</option>
                }
            </select>
            <div class="modal-actions">
                <button type="button" (click)="onClose()">Annuler</button>
                <button type="submit" [disabled]="userForm.invalid">
                    {{userForm.value.name ? 'Modifier' : 'Ajouter'}} utilisateur
                </button>
            </div>
        </form>
    </div>
</div>